---
layout: form
---

<h1>Book Chapter Request</h1>

<label>Book Title</label>
<p><input class="oabutton_form" type="text" id="title" placeholder="Biology for dummies" style="box-shadow:none;"></p>

<label>ISBN</label>
<p><input class="oabutton_form" type="text" id="ISBN" placeholder="e.g 978-3-16-148410-0" style="box-shadow:none;"></p>

<label>Authors</label>
<p><input class="oabutton_form" type="text" id="authors" placeholder="e.g 1" style="box-shadow:none;"></p>

<label>Edition</label>
<p><input class="oabutton_form" type="text" id="edition" placeholder="e.g Joseph McArthur" style="box-shadow:none;"></p>

<label>Year Published</label>
<p><input class="oabutton_form" type="text" id="year" placeholder="e.g 1992" style="box-shadow:none;"></p>

<label>Institutional Email Address</label>
<input class="oabutton_form" type="email" id="email" placeholder="e.g. your.email@institution.edu" style="box-shadow:none;">

<label>Full Name</label>
<input class="oabutton_form" type="text" id="name" placeholder="e.g. Joseph McArthur" style="box-shadow:none;">

<label>Library Name</label>
<input class="oabutton_form" type="text" id="organization" placeholder="e.g. Harvard Library" style="box-shadow:none;">

<p><a class="oabutton_find" href="/ill-covid/thanks" id="submit" aria-label="submit" style="min-width:150px;">Submit Request</a></p>


<!-- below is from https://medium.com/@dmccoy/how-to-submit-an-html-form-to-google-sheets-without-google-forms-b833952cc175 -->

<script>
jQuery(document).ready(function() {

  var url = 'https://api.openaccessbutton.org/ill/collect'; // this will be the google script url like 'https://script.google.com/macros/s/abcdefghijklmnopqrstuvwxyz1234567890/exec'

  var goto = false;
  var submit = function(e) {
    try { e.preventDefault(); } catch(err) {};
    var data = {};

    $('.oabutton_form').each(function() {
      data[$(this).attr('id')] = $(this).val();
    });

    if (window.location.search) {
      var s = window.location.search.split('?')[1];
      var params = s.split('&');
      for ( var p of params ) {
        var parts = p.split('=');
        if (parts.length === 2) data[parts[0]] = parts[1];
      }
    }

    goto = $(this).attr('href');
    console.log(data);
    $.ajax({
      url: url,
      method: 'GET',
      dataType: 'json',
      data: data,
      success: function(res) {
        console.log(res);
        window.location = goto;
      }
    });

  }

  $('body').on('click','#submit',submit);

});
</script>
